<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.pantuo.mybatis.persistence.UserAutoCompleteMapper">


	<select id="getUserIdLike" parameterType="map" resultType="java.lang.String">
		select USER_ID_ from ACT_ID_MEMBERSHIP where GROUP_ID_ = #{groupId}
		<if test="uname != null  ">
			and USER_ID_ like #{uname}
		</if>
		order by USER_ID_ limit 30
	</select>
	<select id="selectAllProId"  resultType="java.lang.Integer">
		select distinct id from product 
		order by id asc
	</select>
<select id="selectBusidsByPid" parameterType="java.lang.Integer" resultType="java.lang.Integer">
    select  distinct busid
    from bus_online
    where publish_line_id = #{pid,jdbcType=INTEGER}
  </select>
<select id="selectFunidsByPid"   resultMap="com.pantuo.mybatis.persistence.BusFunctionMapper.BaseResultMap">
    select   bus_function.id, bus_function.created, bus_function.updated, bus_function.city, funcode, fundesc,
     bus_function.name
    from group_function join bus_function on bus_function.id=group_function.fun_id
    where group_id in 
    <foreach collection="gidlist" index="index" item="item" open="(" separator="," close=")"> 
            #{item} 
        </foreach> 
  </select>
</mapper>